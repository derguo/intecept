<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        //例1:直接调用的函数,即无调用主体的函数,this指向
        //结论:
        // 在严格模式下,指向undefined.非严格模式下当this指向undefined或unll的时候会自动指向全局.
        /* function foo() {
            "use strict"
            function bar() {
                console.log(this);
            }
            bar();//严格undefined,非严格全局
            bar.call(null);//严格null,非严格全局
            bar.call(undefined);//严格undefined,非严格全局
            bar.bind(null)();//严格null,非严格全局
        }
        foo() */
        // 例2:验证子作用域中同名变量是否覆盖父级变量
        // 结论:不会覆盖
        /* function foo() {
            var a = 1;
            function bar() {
                var a = 20;
                console.log(a)
            }
            bar()
            console.log(a)
        }
        foo(); */

        //例3:书中例子,
        /* "use strict"
        var a = 20;
        function foo() {
            var a = 1;
            var obj = {
                a:10,
                c:this.a + 20,
            }
            return obj.c
        }

        console.log(window.foo());//40
        console.log(foo())//TypeError
         */

        //例4:书中习题
        /* function foo() {
            console.log(this)
        }
        function active(fn) {
            fn()
        }

        var obj = {
            getA:foo,
            active:active,
        }

        active(obj.getA);
        obj.active(obj.getA); 
        */

        //例5:书中习题
        /* var n = "w"
        var obj ={
            n:"o",
            getN:function(){
                console.log(this);
                return function() {
                    return this.n
                }
                
            }
        }

        console.log(obj.getN()());
        new obj.getN() */

        /* 验证函数中定义的箭头函数的this 
           运行时定义，在哪定义就是此的上下文的this
        */

        let f;

        function func(params) {
            f = () => {
                console.log(this)
            }
        }

        // new func()
        let obj = {
            func
        }
        obj.func()
        f()





    </script>
</body>
</html>